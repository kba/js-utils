!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.utils=t():e.utils=t()}("undefined"!=typeof window?window:this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r,o,s,i=n(10),c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function a(){s=!1}function u(e){if(e){if(e!==r){if(e.length!==c.length)throw new Error("Custom alphabet for shortid must be "+c.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,n){return t!==n.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+c.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,a()}}else r!==c&&(r=c,a())}function f(){return s||(s=function(){r||u(c);for(var e,t=r.split(""),n=[],o=i.nextValue();t.length>0;)o=i.nextValue(),e=Math.floor(o*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return r||c},characters:function(e){return u(e),r},seed:function(e){i.seed(e),o!==e&&(a(),o=e)},lookup:function(e){return f()[e]},shuffled:f}},function(e,t,n){const r=n(2),o=n(6),s=n(7),i=n(8),c=n(17),a=n(18);function u(...e){return new r(...e)}e.exports={deansi:function(e){return e.replace(/\x1b\[[^m]+m/g,"")},jsonify:function(e={}){return JSON.parse(JSON.stringify(e))},lastUrlSegment:function(e,t=!1){let{pathname:n}=u(e);t&&(n=n.replace(/\/*$/,""));const r=n.split("/");return r[r.length-1]},parseUrl:u,promiseSerial:function(e){return e.reduce((e,t)=>e.then(e=>t().then(Array.prototype.concat.bind(e))),Promise.resolve([]))},randomInt:function(e,t){return Math.floor(Math.random()*(t-e)+e)},shortenOutput:function(e,t=10){let n=(e=e.toString()).substr(0,t);e.length>t&&(n+="...");return n},truthy:function(e){return!0===e||1===e||"true"===e||"1"===e},urlJoin:function(...e){return e.join("/").replace(/\/\/+/g,"/").replace(/\/+$/,"").replace(":/","://")},verticalConcat:function(...e){const t=e.map(e=>e.split("\n")),n=[...t.shift()];return t.map(e=>{e.map((e,t)=>{n[t]+=e})}),n.join("\n")},randomString:function({prefix:e="",template:t="",length:n=-1}={}){t&&t.match(f)&&t.replace(f,(e,t)=>n=t.length);let r=i.generate();for(;r.length<n;)r+=i.generate();n>-1&&(r=r.substr(0,n));t&&""!=t&&(r=t.replace(f,r));e&&""!=e&&(r=`${e}.${r}`);return r},uniq:function(e=[]){const t=[];return e.forEach(e=>{-1===t.indexOf(e)&&t.push(e)}),t},traverse:o,deepmerge:s,idiomaticFetch:function e(t,n={},r="json"){const o=e.fetch||fetch;"string"==typeof n&&([r,n]=[n,{}]);"redirect"in n||(n.redirect=!0);return new Promise((e,s)=>{o(t,n).then(t=>{t.ok?t[r]().then(n=>{Object.assign(t,{bodyData:n}),e(t)}):t.text().then(e=>{Object.assign(t,{bodyData:e}),s(t)})}).catch(s)})},splitOnce:function(e,t,n=!1){const r=e[n?"lastIndexOf":"indexOf"](t);return r>-1?[e.substr(0,r),e.substr(r+1)]:[e]},promisify:function(e){return(...t)=>new Promise((n,r)=>e(...t,(e,...t)=>e?r(e):n(...t)))},splitArray:function(e,t=";"){const n=[];let r=[];e.forEach(e=>{e===t?(n.push(r),r=[]):r.push(e)}),r.length&&n.push(r);return n},ensureArray:function(e){return Array.isArray(e)?e:[e]},StrictEventEmitter:a,MultiIndex:c,rexcape:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}};const f=/(XXX+)/;i.characters("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$@")},function(e,t,n){"use strict";(function(t){var r=n(4),o=n(5),s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],a={hash:1,query:1};function u(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},s=typeof(e=e||r);if("blob:"===e.protocol)o=new l(unescape(e.pathname),{});else if("string"===s)for(n in o=new l(e,{}),a)delete o[n];else if("object"===s){for(n in e)n in a||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=i.test(e.href))}return o}function f(e){var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function l(e,t,n){if(!(this instanceof l))return new l(e,t,n);var s,i,a,p,h,d,y=c.slice(),v=typeof t,g=this,b=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=u(t),s=!(i=f(e||"")).protocol&&!i.slashes,g.slashes=i.slashes||s&&t.slashes,g.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(y[3]=[/(.*)/,"pathname"]);b<y.length;b++)"function"!=typeof(p=y[b])?(a=p[0],d=p[1],a!=a?g[d]=e:"string"==typeof a?~(h=e.indexOf(a))&&("number"==typeof p[2]?(g[d]=e.slice(0,h),e=e.slice(h+p[2])):(g[d]=e.slice(h),e=e.slice(0,h))):(h=a.exec(e))&&(g[d]=h[1],e=e.slice(0,h.index)),g[d]=g[d]||s&&p[3]&&t[d]||"",p[4]&&(g[d]=g[d].toLowerCase())):e=p(e);n&&(g.query=n(g.query)),s&&t.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==t.pathname)&&(g.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],s=!1,i=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),i++):i&&(0===r&&(s=!0),n.splice(r,1),i--);return s&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(g.pathname,t.pathname)),r(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(p=g.auth.split(":"),g.username=p[0]||"",g.password=p[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}l.prototype={set:function(e,t,n){var s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),s[e]=t;break;case"port":s[e]=t,r(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,/:\d+$/.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";s[e]=t.charAt(0)!==i?i+t:t}else s[e]=t;break;default:s[e]=t}for(var a=0;a<c.length;a++){var u=c[a];u[4]&&(s[u[1]]=s[u[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var s=r+(n.slashes?"//":"");return n.username&&(s+=n.username,n.password&&(s+=":"+n.password),s+="@"),s+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(s+=n.hash),s}},l.extractProtocol=f,l.location=u,l.qs=o,e.exports=l}).call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r,o=Object.prototype.hasOwnProperty;function s(e){return decodeURIComponent(e.replace(/\+/g," "))}t.stringify=function(e,t){t=t||"";var n,s,i=[];for(s in"string"!=typeof t&&(t="?"),e)o.call(e,s)&&((n=e[s])||null!==n&&n!==r&&!isNaN(n)||(n=""),i.push(encodeURIComponent(s)+"="+encodeURIComponent(n)));return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=s(t[1]),i=s(t[2]);o in r||(r[o]=i)}return r}},function(e,t){var n=e.exports=function(e){return new r(e)};function r(e){this.value=e}function o(e,t,n){var r=[],o=[],c=!0;return function e(l){var p=n?s(l):l,h={},d=!0,y={node:p,node_:l,path:[].concat(r),parent:o[o.length-1],parents:o,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(e,t){y.isRoot||(y.parent.node[y.key]=e),y.node=e,t&&(d=!1)},delete:function(e){delete y.parent.node[y.key],e&&(d=!1)},remove:function(e){a(y.parent.node)?y.parent.node.splice(y.key,1):delete y.parent.node[y.key],e&&(d=!1)},keys:null,before:function(e){h.before=e},after:function(e){h.after=e},pre:function(e){h.pre=e},post:function(e){h.post=e},stop:function(){c=!1},block:function(){d=!1}};if(!c)return y;function v(){if("object"==typeof y.node&&null!==y.node){y.keys&&y.node_===y.node||(y.keys=i(y.node)),y.isLeaf=0==y.keys.length;for(var e=0;e<o.length;e++)if(o[e].node_===l){y.circular=o[e];break}}else y.isLeaf=!0,y.keys=null;y.notLeaf=!y.isLeaf,y.notRoot=!y.isRoot}v();var g=t.call(y,y.node);return void 0!==g&&y.update&&y.update(g),h.before&&h.before.call(y,y.node),d?("object"!=typeof y.node||null===y.node||y.circular||(o.push(y),v(),u(y.keys,function(t,o){r.push(t),h.pre&&h.pre.call(y,y.node[t],t);var s=e(y.node[t]);n&&f.call(y.node,t)&&(y.node[t]=s.node),s.isLast=o==y.keys.length-1,s.isFirst=0==o,h.post&&h.post.call(y,s),r.pop()}),o.pop()),h.after&&h.after.call(y,y.node),y):y}(e).node}function s(e){if("object"==typeof e&&null!==e){var t;if(a(e))t=[];else if("[object Date]"===c(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===c(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===c(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===c(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===c(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===c(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},r=function(){};r.prototype=n,t=new r}return u(i(e),function(n){t[n]=e[n]}),t}return e}r.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!f.call(t,r)){t=void 0;break}t=t[r]}return t},r.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!f.call(t,r))return!1;t=t[r]}return!0},r.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var o=e[r];f.call(n,o)||(n[o]={}),n=n[o]}return n[e[r]]=t,t},r.prototype.map=function(e){return o(this.value,e,!0)},r.prototype.forEach=function(e){return this.value=o(this.value,e,!1),this.value},r.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach(function(t){this.isRoot&&n||(r=e.call(this,r,t))}),r},r.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},r.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},r.prototype.clone=function(){var e=[],t=[];return function n(r){for(var o=0;o<e.length;o++)if(e[o]===r)return t[o];if("object"==typeof r&&null!==r){var c=s(r);return e.push(r),t.push(c),u(i(r),function(e){c[e]=n(r[e])}),e.pop(),t.pop(),c}return r}(this.value)};var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function c(e){return Object.prototype.toString.call(e)}var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};u(i(r.prototype),function(e){n[e]=function(t){var n=[].slice.call(arguments,1),o=new r(t);return o[e].apply(o,n)}});var f=Object.hasOwnProperty||function(e,t){return t in e}},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function o(t,s,i){(i=i||{}).arrayMerge=i.arrayMerge||r,i.isMergeableObject=i.isMergeableObject||e;var c=Array.isArray(s),a=Array.isArray(t),u=c===a;return u?c?i.arrayMerge(t,s,i):function(e,t,r){var s={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){s[t]=n(e[t],r)}),Object.keys(t).forEach(function(i){r.isMergeableObject(t[i])&&e[i]?s[i]=o(e[i],t[i],r):s[i]=n(t[i],r)}),s}(t,s,i):n(s,i)}return o.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return o(e,n,t)},{})},o}()},function(e,t,n){"use strict";e.exports=n(9)},function(e,t,n){"use strict";var r=n(0),o=n(11),s=n(15),i=n(16)||0;function c(){return o(i)}e.exports=c,e.exports.generate=c,e.exports.seed=function(t){return r.seed(t),e.exports},e.exports.worker=function(t){return i=t,e.exports},e.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},e.exports.isValid=s},function(e,t,n){"use strict";var r=1;e.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(e){r=e}}},function(e,t,n){"use strict";var r,o,s=n(12),i=(n(0),1459707606518),c=6;e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-i));return n===o?r++:(r=0,o=n),t+=s(c),t+=s(e),r>0&&(t+=s(r)),t+=s(n)}},function(e,t,n){"use strict";var r=n(0),o=n(13),s=n(14);e.exports=function(e){for(var t,n=0,i="";!t;)i+=s(o,r.get(),1),t=e<Math.pow(16,n+1),n++;return i}},function(e,t,n){"use strict";var r,o="object"==typeof window&&(window.crypto||window.msCrypto);r=o&&o.getRandomValues?function(e){return o.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=r},function(e,t){e.exports=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=Math.ceil(1.6*r*n/t.length),s="";;)for(var i=e(o),c=0;c<o;c++){var a=i[c]&r;if(t[a]&&(s+=t[a]).length===n)return s}}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},function(e,t,n){"use strict";e.exports=0},function(e,t){const n=new Set;e.exports=class{constructor(){this.root=new Map,this.sets=new Set}_createSet(e){const t=new Set;return t.indexKeys=e,this.sets.add(t),t}_parents(e,t=!1){const n=[];let r=this.root;n.push(r);for(let o=0;o<e.length;o++){if(!r.has(e[o])){if(!t)return[];const n=o===e.length-1?this._createSet(e):new Map;r.set(e[o],n)}r=r.get(e[o]),n.push(r)}return n}_delete(e,t){const n=this._parents(e);if(0!==n.length){void 0!==t&&n[n.length-1].delete(t);for(let t=e.length-1;t>=0&&!(n[t].size>0);t--)this.sets.has(n[t])&&this.sets.delete(n[t]),n[t-1].delete(e[t])}}unindex(e){this.sets.forEach(t=>{t.has(e)&&this._delete(t.indexKeys,e)})}index(e,t){Array.isArray(e)||(e=[e]);const n=this._parents(e,!0);return n[n.length-1].add(t)}get(e){Array.isArray(e)||(e=[e]);const t=this._parents(e);return t[t.length-1]||n}}},function(e,t,n){const{EventEmitter:r}=n(19),o={on:{node:88,browser:"#870000"},once:{node:91,browser:"#8700af"},emit:{node:23,browser:"#005f5f"}},s="undefined"==typeof window;e.exports=class extends r{constructor(e=[],t){super(),this.eventNames=new Set(e),this.LOGEVENTS=t}registerEvent(e){this.eventNames.add(e)}_logEvent(e,t,n){const r=(new Date).toISOString().slice(11);s?console.log([`[38;5;${o[t].node}m`,r,`[${t}]`,this.constructor.name,`"${e}"`,"[0m",n.map(e=>e.toString())].join(" ")):console.log([`%c[${t}]`,r,this.constructor.name,`"${e}"`,n.map(e=>e.toString())].join(" "),`color: ${o[t].browser}`)}on(e,...t){if(this.LOGEVENTS&&this._logEvent(e,"on",t),!this.eventNames.has(e))throw new Error(`Event '${e}' not emitted by ${this.constructor.name}`);super.on(e,...t)}once(e,...t){if(this.LOGEVENTS&&this._logEvent(e,"once",t),!this.eventNames.has(e))throw new Error(`Event '${e}' not emitted by ${this.constructor.name}`);super.once(e,...t)}emit(e,...t){if(this.LOGEVENTS&&this._logEvent(e,"emit",t),!this.eventNames.has(e))throw new Error(`Event '${e}' not emitted by ${this.constructor.name}`);super.emit(e,...t)}}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function s(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function c(e,t,n,r,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var c=new i(n,r||e,s),a=o?o+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],c]:e._events[a].push(c):(e._events[a]=c,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(o=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,i=new Array(s);r<s;r++)i[r]=n[r].fn;return i},u.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,s,i){var c=o?o+e:e;if(!this._events[c])return!1;var a,u,f=this._events[c],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,s),!0;case 6:return f.fn.call(f.context,t,n,r,s,i),!0}for(u=1,a=new Array(l-1);u<l;u++)a[u-1]=arguments[u];f.fn.apply(f.context,a)}else{var p,h=f.length;for(u=0;u<h;u++)switch(f[u].once&&this.removeListener(e,f[u].fn,void 0,!0),l){case 1:f[u].fn.call(f[u].context);break;case 2:f[u].fn.call(f[u].context,t);break;case 3:f[u].fn.call(f[u].context,t,n);break;case 4:f[u].fn.call(f[u].context,t,n,r);break;default:if(!a)for(p=1,a=new Array(l-1);p<l;p++)a[p-1]=arguments[p];f[u].fn.apply(f[u].context,a)}}return!0},u.prototype.on=function(e,t,n){return c(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return c(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var s=o?o+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var i=this._events[s];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||a(this,s);else{for(var c=0,u=[],f=i.length;c<f;c++)(i[c].fn!==t||r&&!i[c].once||n&&i[c].context!==n)&&u.push(i[c]);u.length?this._events[s]=1===u.length?u[0]:u:a(this,s)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&a(this,t)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,e.exports=u}])});